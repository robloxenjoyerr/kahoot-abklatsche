<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <link rel="stylesheet" href="./css/host.css">
    <title>Host Dashboard</title>
    <style>
        /* Loader Vollbild */
        #loader {
            position: fixed;
            inset: 0;
            display: flex;
            justify-content: center;
            align-items: center;
            background: #111;
            color: white;
            font-size: 2rem;
            z-index: 9999;
            visibility: visible;
            opacity: 1;
            transition: opacity 0.8s ease;
        }

        /* Hauptinhalt zun√§chst unsichtbar */
        #main-content {
            visibility: hidden;
        }
    </style>
</head>

<body>
    <!-- Loader -->
    <div id="loader">Loading...</div>

    <!-- Hauptinhalt -->
    <div id="main-content">
        <header>
            <h1>KAHOOM</h1>
            <h2>Host Dashboard</h2>
        </header>

        <main>
            <!-- Dashboard: Existing Games & Controls -->
            <div class="container dashboard-container">
                <div class="container game-sets-container">
                    <span>Games</span>
                    <div class="game-list"></div>
                </div>
                <div class="container other-container">
                    <span>Selected Game:</span>
                    <span class="selected-game-set-text">None</span>

                    <button class="host-game-button">Host Game</button>
                    <button class="create-new-gameset">Create New Game</button>
                    <button class="back-start-button">Back</button>
                </div>
            </div>


            <!-- Create Game Layout -->
            <div class="container create-game-container" style="display: none;">
                <div class="container questions-container">
                    <span>Questions</span>
                    <div class="questions-list">

                    </div>
                </div>
                <div class="container right-side-container">
                    <div class="container rest-container">
                        <div class="container question-settings-container">
                            <label for="question-text">Question</label>
                            <input type="text" id="question-text">
                            <label for="question-time-limit">Time limit</label>
                            <input type="text" id="question-time-limit">
                            <label for="question-points">Points</label>
                            <input type="text" id="question-points">
                        </div>
                        <div class="container answers-container">
                            <div class="container answers-text-container">
                                <div class="container answer-container">
                                    <input type="text" class="answer_input" id="answer_input1" placeholder="Answer 1 (required)" required>
                                    <label for="checkbox1">correct</label>
                                    <input type="checkbox" class="checkbox" id="checkbox1">
                                </div>
                            </div>
                            <div class="answers-text-container">
                                <div class="container answer-container">
                                    <input type="text" class="answer_input" id="answer_input2" placeholder="Answer 2 (required)" required>
                                    <label for="checkbox2">correct</label>
                                    <input type="checkbox" class="checkbox" id="checkbox2">
                                </div>
                            </div>
                            <div class="answers-text-container">
                                <div class="container answer-container">
                                    <input type="text" class="answer_input" id="answer_input3" placeholder="Answer 3">
                                    <label for="checkbox3">correct</label>
                                    <input type="checkbox" class="checkbox" id="checkbox3">
                                </div>
                            </div>
                            <div class="answers-text-container">
                                <div class="container answer-container">
                                    <input type="text" class="answer_input" id="answer_input4" placeholder="Answer 4">
                                    <label for="checkbox4">correct</label>
                                    <input type="checkbox" class="checkbox" id="checkbox4">
                                </div>
                            </div>
                            <div class="answers-text-container">
                                <div class="container answer-container">
                                    <input type="text" class="answer_input" id="answer_input5" placeholder="Answer 5">
                                    <label for="checkbox5">correct</label>
                                    <input type="checkbox" class="checkbox" id="checkbox5">
                                </div>
                            </div>
                            <div class="answers-text-container">
                                <div class="container answer-container">
                                    <input type="text" class="answer_input" id="answer_input6" placeholder="Answer 6">
                                    <label for="checkbox6">correct</label>
                                    <input type="checkbox" class="checkbox" id="checkbox6">
                                </div>
                            </div>
                            
                        </div>
                        <div class="container add-question-container">
                            <button class="button create-question-button">Add Question</button>
                            <button class="button create-game-template-button">Create Template</button>
                            <button class="button back-dashboard-button">Back to Dashboard</button>
                        </div>
                        
                    </div>
                </div>
            </div>
        </main>
    </div>

    <!-- Socket & Host JS -->
    <script src="/socket.io/socket.io.js"></script>
    <script type="module">const socket = io();</script>
    <script defer src="./js/host.js" type="module"></script>

    <!-- Loader Script mit Fade-Out -->
    <script>
        document.onreadystatechange = function () {
            if (document.readyState !== "complete") {
                document.querySelector("body").style.visibility = "hidden";
                document.querySelector("#loader").style.visibility = "visible";
            } else {
                const loader = document.querySelector("#loader");
                const mainContent = document.querySelector("#main-content");
                const body = document.querySelector("body");
                body.style.visibility = "visible";

                setTimeout(() => {
                    loader.style.opacity = 0;
                    setTimeout(() => {
                        loader.style.display = "none";
                        mainContent.style.visibility = "visible";
                    }, 400);
                }, 50);
            }
        };
    </script>
</body>

</html>